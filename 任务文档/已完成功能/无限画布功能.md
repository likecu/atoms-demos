# 无限画布功能 (Draggable Canvas)

## 功能描述
将右侧的代码预览区域改造成为了一个无限大的、可自由拖拽和缩放的画布。这模仿了现代设计工具（如 Figma）的操作体验，为用户提供了更广阔的操作空间来查看和调试生成的应用。

## 核心特性

### 1. 交互模式
- **平移 (Pan)**:
    - **空白区域**: 直接按住鼠标左键拖拽。
    - **应用上方**: 按住 `Space` (空格键) 进入“抓手模式”，然后按住鼠标左键拖拽。
- **缩放 (Zoom)**:
    - 按住 `Ctrl` (或 `Cmd`) + 鼠标滚轮进行缩放。
    - 使用右下角的悬浮控制栏进行缩放 (放大、缩小、复位)。
- **应用交互**:
    - 在非“抓手模式”下，可以直接与 iframe 内的应用进行交互（点击、输入等）。
    - 拖拽时会自动屏蔽 iframe 事件，保证拖拽流畅。

### 2. 界面集成
- **侧边栏联动**: 左侧聊天侧边栏支持折叠，折叠后画布会自动填满整个屏幕。
- **布局比例**: 默认采用 **30% (侧边栏) : 70% (画布)** 的布局比例。
- **控制栏**: 右下角提供半透明控制栏，显示当前缩放比例，并提供快捷操作按钮。

## 技术实现
- **组件**: `DraggableCanvas` (`src/components/ui/draggable-canvas.tsx`)
- **库**: `framer-motion` (负责平滑的拖拽和缩放动画)
- **状态管理**: 
    - 使用 `useMotionValue` 避开 React 渲染循环，提升性能。
    - 监听全局 `keydown`/`keyup` 事件管理 Space 键状态。

## 使用指南
1. 进入聊天详情页。
2. 即使是在查看较小的组件，也可以通过画布将其居中或放大查看。
3. 当生成的应用界面较大时，可以通过拖拽查看不同部分，而无需依赖浏览器的滚动条。
