1/在远程服务器里，完成：Create a new Next.js 14 application using App Router, TypeScript, Tailwind CSS, and Shadcn UI. Initialize a Supabase client for authentication and database interaction.
2/远程服务器里，完成：Based on the requirement for a chat app with artifacts history, generate a SQL schema for Supabase including tables for chats, messages, and artifacts. Include RLS policies to ensure users can only access their own data."
3/目标：实现类似Claude的左右分栏布局。 Prompt Cursor: "Create a responsive layout with a resizable sidebar on the left for chat history, a main chat area in the middle, and a collapsible preview panel on the right for the artifact sandbox. Use Shadcn UI components for buttons and inputs."

关键实现：

使用 ResizablePanel 组件实现拖拽调整大小。

左侧Chat Area集成Vercel AI SDK的 useChat hook。

右侧Preview Area集成 @codesandbox/sandpack-react。

Sandpack配置细节： 我们需要预装一些常用库，以便AI生成的代码能直接运行。

JavaScript
<SandpackProvider
  template="react"
  customSetup={{
    dependencies: {
      "lucide-react": "latest",
      "recharts": "latest",
      "framer-motion": "latest",
      "clsx": "latest",
      "tailwind-merge": "latest"
    }
  }}
>
  {/*...Components */}
</SandpackProvider>
   

4/将上面界面和功能，整合到一个页面中，先注册完成后，可以新建聊天框，聊天框里可以输入prompt，然后点击send，右边的会在沙盘里实时显示。
5/具体功能见：/Users/aaa/Documents/study-demo/Atoms_Demo_PRD_v2.1.md