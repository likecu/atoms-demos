# 数据库设计 (已完成)

## 架构概览
使用 Supabase (PostgreSQL) 作为主数据库，启用 Row Level Security (RLS) 保证数据安全。

## 数据表结构
1.  **users (用户表)**
    *   管理用户基本信息，与 Supabase Auth 联动。
2.  **projects (项目表)**
    *   存储用户创建的项目信息。
    *   字段: `id`, `name`, `description`, `created_at`, `user_id`, `is_public` 等。
3.  **messages (消息表)**
    *   存储聊天记录（用户和 AI 的对话）。
    *   字段: `id`, `content`, `role` (user/assistant), `project_id`, `created_at`。
4.  **artifacts (制品表)**
    *   存储生成的代码片段或文件版本（虽然目前主要通过 projects.current_code 或 messages 关联，但表结构已预留）。
5.  **deployments (部署表)**
    *   记录项目部署历史（如有）。

## 安全策略 (RLS)
*   所有表启用了 RLS。
*   策略确保用户只能访问和修改属于自己的数据 (`user_id = auth.uid()`)。
