# 2.1 发布与分享 (Deployment)

**目标**: 将生成的网页发布为公开链接，供他人访问。

## 任务清单

- [ ] **1. 发布动作**
  - [ ] 在 Header 添加 "Publish" 按钮。
  - [ ] 实现 Server Action: `publishProject(projectId, currentCode)`.
  - [ ] 逻辑: 
    - 生成唯一 `share_token`。
    - 在 `deployments` 表插入记录。
    - 返回完整分享链接。

- [ ] **2. 分享页开发**
  - [ ] 创建 `src/app/share/[token]/page.tsx`。
  - [ ] 权限: 该页面公开访问 (不做 Auth 检查，但检查 `is_active`)。
  - [ ] UI: 纯净版 `SandpackPreview`，不显示 Editor/Tabs，只显示 Preview 结果。
  - [ ] 隐藏所有编辑控件。

## 文件清单
- `src/components/layout/header.tsx` (需要添加发布按钮)
- `src/app/share/[token]/page.tsx`

## 验证步骤
1. 在聊天页点击发布，获得 URL。
2. 在隐身窗口打开该 URL。
3. 只能看到最终网页效果，无法看到代码或聊天记录。
